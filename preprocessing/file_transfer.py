import glob
import shutil
import os

list1=[]

for filename in glob.iglob('/home/cuckoo/.cuckoo/storage/analyses/*'):
	dir_path = os.path.dirname(os.path.realpath(filename))
	print(filename.split('/')[-1])
	list1.append(filename.split('/')[-1])
	#current = filename.split('.')
	#os.rename(filename, current[0]+'-'+dir_path+'.'+current[1])
	#new_name = current[0]+'-'+dir_path+'.'+current[1]
	#shutil.move(filename,'/home/arjun/Documents/Destination')

list1.sort()
print(list1)
if len(list1)>=4:
	list2=[list1[-1],list1[-2],list1[-3]]
	for filename in glob.iglob('/home/cuckoo/.cuckoo/storage/analyses/*'):
		dir_path = os.path.dirname(os.path.realpath(filename))
		name = filename.split('/')[-1]
		#current = filename.split('.')
		#os.rename(filename, current[0]+'-'+dir_path+'.'+current[1])
		#new_name = current[0]+'-'+dir_path+'.'+current[1]
		if name in list1 and not (name in list2):
			shutil.move(filename,'/media/cic/New Volume1/move_to_gd/')

# import os
# import shutil
# sourcepath='/home/arjun/Documents/source'
# source = os.listdir(sourcepath)
# destinationpath = '/home/arjun/Documents/Destination'
# for root, dirs, files in os.walk(sourcepath):
# 	for name in files:
# 		if name.endswith('.py'):
# 			shutil.move(os.path.join(sourcepath,name), os.path.join(destinationpath,name))
# for files in source:
#      if files.endswith('.py'):
#          shutil.move(os.path.join(sourcepath,files), os.path.join(destinationpath,files))


#def move(source):

# import glob
# import shutil

# # I prefer to set path and mask as variables, but of course you can use values
# # inside glob() and move()

# source_files='/Users/kevinconnell/Desktop/Test_Folder/*.png'
# target_folder='/Users/kevinconnell/Dekstop/Test_Folder/Archive'

# # retrieve file list
# filelist=glob.glob(source_files)
# for single_file in filemask:
#      # move file with full paths as shutil.move() parameters
#     shutil.move(single_file,target_folder)